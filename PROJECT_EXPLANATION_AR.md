# ุดุฑุญ ุดุงูู ููุดุฑูุน IntelliAttend - ูุธุงู ุงูุญุถูุฑ ุจุงูุชุนุฑู ุนูู ุงููุฌู

## ๐ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน

**IntelliAttend** ูู ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุญุถูุฑ ูุงูุบูุงุจ ุจุงุณุชุฎุฏุงู ุชูููุฉ ุงูุชุนุฑู ุนูู ุงููุฌู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู. ุงููุดุฑูุน ููุณู ุฅูู ุซูุงุซุฉ ุฃุฌุฒุงุก ุฑุฆูุณูุฉ:

### 1. **Backend (Python/Flask)** - ุงูุฎุงุฏู ุงูุฎููู
- ูุณุคูู ุนู ุงูุชุนุฑู ุนูู ุงููุฌูู ุจุงุณุชุฎุฏุงู ููุชุจุฉ `face_recognition`
- ูููุฑ API endpoints ููุชูุงุตู ูุน Frontend
- ูุชุนุงูู ูุน Firebase ูุชุฎุฒูู ูุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช

### 2. **Frontend (Next.js/React/TypeScript)** - ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุชุทุจูู ููุจ ุญุฏูุซ ูุจูู ุจู Next.js 15
- ูููุฑ ูุงุฌูุงุช ูุฎุชููุฉ ููููุธููู ูุงููุดุฑููู ูุงูุฅุฏุงุฑููู
- ูุชุนุงูู ูุน ุงููุงููุฑุง ูุงูุชูุงุท ุงูุตูุฑ

### 3. **AI Module (Python)** - ูุญุฏุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู
- ูููุฐุฌ ุงูุชุนุฑู ุนูู ุงููุฌู ุงููุฏุฑุจ
- ูุญูู ุงูุจูุงูุงุช ูู Firebase
- ูููู ุจููุงุฑูุฉ ุงููุฌูู ูุงูุชุญูู ูู ุงููููุฉ

---

## ๐๏ธ ูุนูุงุฑูุฉ ุงููุธุงู (System Architecture)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ุงููุณุชุฎุฏู (User)                          โ
โ                  ููุชุญ ุงููุชุตูุญ ููุฏุฎู ูููุธุงู                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                         โ
                         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              Frontend (Next.js - Port 3000)                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  โข ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู (Login)                         โ  โ
โ  โ  โข ุตูุญุฉ ุงููุงููุฑุง (Camera)                            โ  โ
โ  โ  โข ููุญุฉ ุชุญูู ุงูููุธู (Employee Dashboard)             โ  โ
โ  โ  โข ููุญุฉ ุชุญูู ุงููุดุฑู (Supervisor Dashboard)           โ  โ
โ  โ  โข ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ (Admin Dashboard)               โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                         โ
                         โ HTTP Requests
                         โ
        โโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโ
        โ                                 โ
        โผ                                 โผ
โโโโโโโโโโโโโโโโโโโโ            โโโโโโโโโโโโโโโโโโโโ
โ  Firebase        โ            โ  Backend API     โ
โ  (Firestore DB)  โ            โ  (Flask - 5001)  โ
โ                  โ            โ                  โ
โ  โข users         โโโโโโโโโโโโโโค  โข /recognize    โ
โ  โข attendance    โ            โ  โข /compare      โ
โ  โข leaves        โ            โ  โข /add-employee โ
โ  โข departments   โ            โ  โข /retrain      โ
โโโโโโโโโโโโโโโโโโโโ            โโโโโโโโโโฌโโโโโโโโโโ
                                         โ
                                         โผ
                                โโโโโโโโโโโโโโโโโโโโ
                                โ   AI Module      โ
                                โ  Face Recognitionโ
                                โ                  โ
                                โ  โข dlib model    โ
                                โ  โข face_encoding โ
                                โโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุขููุฉ ุงููุตุงุฏูุฉ ุงูุซูุงุซูุฉ (Three-Step Authentication)

ุงููุธุงู ูุณุชุฎุฏู **ูุตุงุฏูุฉ ุซูุงุซูุฉ ุงูุฎุทูุงุช** ูุถูุงู ุฃูุงู ุนุงูู:

### ุงูุฎุทูุฉ 1: ุงูุชุนุฑู ุนูู ุงููุฌู (Face Recognition)
```
ุงููุณุชุฎุฏู ููุชูุท ุตูุฑุฉ ุจุงููุงููุฑุง
        โ
ุงูุตูุฑุฉ ุชูุฑุณู ููู Backend
        โ
AI Model ููุงุฑู ุงููุฌู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
        โ
ุฅุฐุง ุชุทุงุจู โ ููุชูู ููุฎุทูุฉ 2
ุฅุฐุง ูู ูุชุทุงุจู โ ุฑูุถ ุงูุฏุฎูู
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุงุณู (Name Verification)
```
ุงููุธุงู ูุนุฑุถ ุงูุงุณู ุงููุชุนุฑู ุนููู
        โ
ุงููุณุชุฎุฏู ูุคูุฏ ุฃู ูุฐุง ุงุณูู
        โ
ุฅุฐุง ุตุญูุญ โ ููุชูู ููุฎุทูุฉ 3
ุฅุฐุง ุฎุทุฃ โ ุฑูุถ ุงูุฏุฎูู
```

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงูุฑูู ุงููุธููู (Numeric ID Validation)
```
ุงููุณุชุฎุฏู ูุฏุฎู ุฑููู ุงููุธููู
        โ
ุงููุธุงู ููุงุฑูู ูุน ุงูุฑูู ุงููุฎุฒู ูู Firebase
        โ
ุฅุฐุง ุชุทุงุจู โ ูุฌุงุญ ุงููุตุงุฏูุฉ โ
ุฅุฐุง ูู ูุชุทุงุจู โ ุฑูุถ ุงูุฏุฎูู โ
```

---

## ๐ ุดุฑุญ ุชูุตููู ูููููุงุช

### ๐น Backend Files

#### 1. `enhanced_face_api_server.py`
**ุงูููู ุงูุฑุฆูุณู ูุชุดุบูู ุงูุฎุงุฏู**
```python
# ูููู ุจู:
- ุฅูุดุงุก ุชุทุจูู Flask
- ุชุญููู ูููุฐุฌ ุงูุชุนุฑู ุนูู ุงููุฌู
- ุชุดุบูู ุงูุฎุงุฏู ุนูู ุงููููุฐ 5001
```

#### 2. `ai/firebase_face_model.py`
**ูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ููุชุนุฑู ุนูู ุงููุฌู**

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:**

```python
class FirebaseFaceModel:
    
    def load_from_firebase(self):
        """
        ูุญูู ุฌููุน ุตูุฑ ุงูููุธููู ูู Firebase
        ูุญูู ูู ุตูุฑุฉ ุฅูู face encoding (128 ุฑูู)
        ูุฎุฒููุง ูู ุงูุฐุงูุฑุฉ ููููุงุฑูุฉ ุงูุณุฑูุนุฉ
        """
    
    def generate_encoding_from_base64(self, image_base64):
        """
        ูุณุชูุจู ุตูุฑุฉ ุจุตูุบุฉ base64
        ููุชุดู ุงููุฌู ูู ุงูุตูุฑุฉ
        ูุญูููุง ุฅูู encoding (ุจุตูุฉ ุฑูููุฉ ูููุฌู)
        """
    
    def recognize_face(self, image_path):
        """
        ูุณุชูุจู ุตูุฑุฉ ุฌุฏูุฏุฉ
        ููุงุฑููุง ูุน ุฌููุน ุงููุฌูู ุงููุฎุฒูุฉ
        ูุฑุฌุน ุงุณู ุงูุดุฎุต ุฅุฐุง ุชุทุงุจู
        """
    
    def add_employee(self, name, numeric_id, image_base64):
        """
        ูุถูู ููุธู ุฌุฏูุฏ
        ูููุฏ face encoding ููุตูุฑุฉ
        ูุญูุธูุง ูู Firebase
        """
```

**ููู ูุนูู ุงูุชุนุฑู ุนูู ุงููุฌูุ**
```
1. ุงูุตูุฑุฉ ุชูุญูู ุฅูู ูุตูููุฉ ุฃุฑูุงู (RGB pixels)
2. ููุชุจุฉ dlib ุชูุชุดู ูููุน ุงููุฌู
3. ุชุณุชุฎุฑุฌ 128 ููุทุฉ ูููุฒุฉ (landmarks) ูู ุงููุฌู
4. ุชุญูู ูุฐู ุงูููุงุท ุฅูู vector ูู 128 ุฑูู
5. ูุฐุง ุงูู vector ูู "ุงูุจุตูุฉ ุงูุฑูููุฉ" ูููุฌู
6. ุนูุฏ ุงูููุงุฑูุฉุ ูุญุณุจ ุงููุณุงูุฉ ุจูู vectors
7. ุฅุฐุง ุงููุณุงูุฉ < 0.5 โ ุงููุฌูุงู ูุชุทุงุจูุงู
```

#### 3. `backend/app/routes/face_routes.py`
**ููุงุท ุงูููุงูุฉ (API Endpoints)**

```python
@app.route('/three-step-verify', methods=['POST'])
def three_step_verify():
    """
    ุงููุตุงุฏูุฉ ุงูุซูุงุซูุฉ ุงููุงููุฉ
    
    ูุณุชูุจู:
    - image: ุตูุฑุฉ ุงููุฌู (base64)
    - expected_numeric_id: ุงูุฑูู ุงููุธููู ุงููุชููุน
    
    ูุฑุฌุน:
    - step1_face_recognition: ูุชูุฌุฉ ุงูุชุนุฑู ุนูู ุงููุฌู
    - step2_numeric_id_verification: ูุชูุฌุฉ ุงูุชุญูู ูู ุงูุฑูู
    - overall_success: ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
    """

@app.route('/add-employee', methods=['POST'])
def add_employee():
    """
    ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
    
    ูุณุชูุจู:
    - name: ุงุณู ุงูููุธู
    - numericId: ุงูุฑูู ุงููุธููู
    - image: ุตูุฑุฉ ุงูููุธู
    
    ูููู ุจู:
    - ุชูููุฏ face encoding
    - ุญูุธูุง ูู Firebase
    """

@app.route('/retrain', methods=['POST'])
def retrain_model():
    """
    ุฅุนุงุฏุฉ ุชุญููู ุงููููุฐุฌ ูู Firebase
    ููุณุชุฎุฏู ุจุนุฏ ุฅุถุงูุฉ ููุธููู ุฌุฏุฏ
    """
```

#### 4. `backend/app/services/firebase_service.py`
**ุฎุฏูุฉ Firebase**

```python
class FirebaseService:
    def __init__(self):
        """
        ูุชุตู ุจู Firebase
        ูุญูู ููุชุงุญ ุงูุฎุฏูุฉ (service account key)
        """
    
    def get_employee_image(self, employee_name):
        """
        ูุฌูุจ ุตูุฑุฉ ุงูููุธู ูู Firebase
        """
    
    def check_daily_attendance(self, employee_id):
        """
        ูุชุญูู ุฅุฐุง ุงูููุธู ุณุฌู ุญุถูุฑู ุงูููู
        """
    
    def record_attendance(self, employee_id, employee_name):
        """
        ูุณุฌู ุญุถูุฑ ุงูููุธู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
        """
```

---

### ๐น Frontend Files

#### 1. `frontend/src/app/page.tsx`
**ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**
```typescript
// ุจุจุณุงุทุฉ ุชุญูู ุงููุณุชุฎุฏู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
export default function Home() {
  redirect("/login");
}
```

#### 2. `frontend/src/app/login/page.tsx`
**ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู**

**ุงูููููุงุช:**
- `LoginPageContent`: ุงููุญุชูู ุงูุฑุฆูุณู
- `LoginForm`: ูููุฐุฌ ุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ
- `FacialRecognitionButton`: ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู ุจุงููุฌู

**ุณูุฑ ุงูุนูู:**
```
1. ุงููุณุชุฎุฏู ูุฏุฎู username & password
   โ
2. ุงููุธุงู ูุจุญุซ ูู Firebase ุนู ุงููุณุชุฎุฏู
   โ
3. ุฅุฐุง ููุฌุฏ โ ูุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู sessionStorage
   โ
4. ูุญูู ุงููุณุชุฎุฏู ุญุณุจ ููุน ุญุณุงุจู:
   - Admin โ /admin
   - Supervisor โ /supervisor
   - Employee โ /userData
```

**ุฃู:**
```
1. ุงููุณุชุฎุฏู ูุถุบุท "Login with Face"
   โ
2. ููุชุญ ุงููุงููุฑุง ูููุชูุท ุตูุฑุฉ
   โ
3. ูุฑุณููุง ููู Backend ููุชุนุฑู
   โ
4. ุฅุฐุง ุชุนุฑู ุนูู ุงููุฌู โ ุชุณุฌูู ุฏุฎูู ุชููุงุฆู
```

#### 3. `frontend/src/app/camera/page.tsx`
**ุตูุญุฉ ุงููุงููุฑุง (ุชุณุฌูู ุงูุญุถูุฑ)**

**ุงููุธุงุฆู:**
```typescript
export default function CameraPageContent() {
  // 1. ูุชุญูู ุฅุฐุง ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู
  if (!user) {
    router.push("/login");
  }
  
  // 2. ูุชุญูู ุฅุฐุง ุงููุณุชุฎุฏู ูู ุฅุฌุงุฒุฉ
  if (user.status === 'OnLeave') {
    // ูุนุฑุถ ุฑุณุงูุฉ ุฃูู ูู ุฅุฌุงุฒุฉ
    return <OnLeaveMessage />;
  }
  
  // 3. ูุชุญูู ุฅุฐุง ุณุฌู ุญุถูุฑู ุงูููู
  checkDailyAttendance(user.id).then((result) => {
    if (result.hasAttendance) {
      // ูุญููู ูููุญุฉ ุงูุชุญูู ูุน ุชุญุฐูุฑ
      router.push("/userData?showAttendanceWarning=true");
    }
  });
  
  // 4. ูุนุฑุถ ูุงุฌูุฉ ุงููุงููุฑุง
  return <CameraContainer mode="checkin" />;
}
```

**ููููุงุช ุงููุงููุฑุง:**
- `CameraPreview`: ุนุฑุถ ุงููุงููุฑุง ุงููุจุงุดุฑ
- `CaptureButton`: ุฒุฑ ุงูุชูุงุท ุงูุตูุฑุฉ
- `VerificationStepsOverlay`: ุนุฑุถ ุฎุทูุงุช ุงููุตุงุฏูุฉ
- `SuccessOverlay`: ุฑุณุงูุฉ ุงููุฌุงุญ
- `ErrorOverlay`: ุฑุณุงูุฉ ุงูุฎุทุฃ

#### 4. `frontend/src/lib/services/auth/threeStepAuthService.ts`
**ุฎุฏูุฉ ุงููุตุงุฏูุฉ ุงูุซูุงุซูุฉ**

```typescript
export async function performThreeStepAuthentication(
  capturedImageData: string,
  user: User
): Promise<ThreeStepVerificationResult> {
  
  // 1. ุฅุฑุณุงู ุงูุตูุฑุฉ ูุงูุฑูู ุงููุธููู ููู Backend
  const response = await fetch("http://localhost:5001/three-step-verify", {
    method: "POST",
    body: JSON.stringify({
      image: capturedImageData,
      expected_numeric_id: user.numericId
    }),
  });
  
  // 2. ุงุณุชูุจุงู ุงููุชูุฌุฉ
  const result = await response.json();
  
  // 3. ุงูุชุญูู ูู ูุฌุงุญ ุฌููุน ุงูุฎุทูุงุช
  if (result.overall_success) {
    return "Authentication successful";
  } else {
    return "Authentication failed";
  }
}
```

#### 5. `frontend/src/lib/services/attendance/attendanceService.ts`
**ุฎุฏูุฉ ุงูุญุถูุฑ**

```typescript
// ุฌูุจ ุญุถูุฑ ุงูููู
export const getTodayAttendance = async () => {
  const today = new Date().toISOString().split('T')[0];
  // ูุฌูุจ ูู Firebase ุฌููุน ุณุฌูุงุช ุงูุญุถูุฑ ููููู
  const records = await getDocs(
    query(collection(db, "attendance"), where("date", "==", today))
  );
  return records;
}

// ุญุณุงุจ ุฅุญุตุงุฆูุงุช ุงูุญุถูุฑ
export const getAttendanceStats = async () => {
  const users = await getUsers();
  const todayAttendance = await getTodayAttendance();
  
  return {
    totalMembers: users.length,
    presentToday: todayAttendance.length,
    absentToday: users.length - todayAttendance.length,
    lateToday: todayAttendance.filter(r => r.status === 'Late').length
  };
}
```

#### 6. `frontend/src/lib/services/user/userService.ts`
**ุฎุฏูุฉ ุงููุณุชุฎุฏููู**

```typescript
// ุฌูุจ ุฌููุน ุงููุณุชุฎุฏููู
export const getUsers = async (): Promise<User[]> => {
  const snapshot = await getDocs(collection(db, "users"));
  return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
}

// ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
export const createUserWithId = async (userData) => {
  // 1. ุชูููุฏ ุฑูู ูุธููู ุฌุฏูุฏ
  const numericId = await getNextUserId();
  
  // 2. ุญูุธ ุงููุณุชุฎุฏู ูู Firebase
  await setDoc(doc(db, "users", documentId), newUser);
  
  // 3. ุฅุฑุณุงู ุงูุตูุฑุฉ ููู Backend ูุชูููุฏ face encoding
  await fetch('http://localhost:5001/add-employee', {
    method: 'POST',
    body: JSON.stringify({
      name: userData.name,
      numericId: numericId,
      image: userData.image
    })
  });
  
  return newUser;
}
```

---

## ๐ ุณูุฑ ุงูุนูู ุงููุงูู (Complete Workflow)

### ุณููุงุฑูู 1: ุชุณุฌูู ุฏุฎูู ููุธู ุฌุฏูุฏ

```
1. ุงูููุธู ููุชุญ ุงููููุน (localhost:3000)
   โ
2. ููุญูู ุชููุงุฆูุงู ูุตูุญุฉ /login
   โ
3. ูุฏุฎู username & password
   โ
4. Frontend ูุจุญุซ ูู Firebase:
   - collection: "users"
   - where: username == input
   โ
5. ุฅุฐุง ููุฌุฏ ููุทุงุจู password:
   - ูุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู sessionStorage
   - ูุญูู ูููุญุฉ ุงูุชุญูู ุงูููุงุณุจุฉ
   โ
6. ุงูููุธู ูุฑู ููุญุฉ ุงูุชุญูู ุงูุฎุงุตุฉ ุจู
```

### ุณููุงุฑูู 2: ุชุณุฌูู ุญุถูุฑ ููุธู

```
1. ุงูููุธู ูู ููุญุฉ ุงูุชุญูู (/userData)
   โ
2. ูุถุบุท ุนูู "Mark Attendance"
   โ
3. ููุญูู ูุตูุญุฉ /camera?mode=checkin
   โ
4. ุงููุธุงู ูุชุญูู:
   - ูู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎููุ
   - ูู ูู ุฅุฌุงุฒุฉุ
   - ูู ุณุฌู ุญุถูุฑู ุงููููุ
   โ
5. ุฅุฐุง ูู ุดูุก OK โ ููุชุญ ุงููุงููุฑุง
   โ
6. ุงูููุธู ูุถุบุท "Capture"
   โ
7. ุงูุตูุฑุฉ ุชูุฑุณู ููู Backend:
   POST http://localhost:5001/three-step-verify
   Body: {
     image: "data:image/jpeg;base64,/9j/4AAQ...",
     expected_numeric_id: 5
   }
   โ
8. Backend ูููู ุจู:
   a) ุงูุชุนุฑู ุนูู ุงููุฌู (Face Recognition)
      - ูุญูู ุงูุตูุฑุฉ
      - ูุณุชุฎุฑุฌ face encoding
      - ููุงุฑูู ูุน ุฌููุน encodings ุงููุฎุฒูุฉ
      - ูุฌุฏ ุฃูุฑุจ ุชุทุงุจู
   
   b) ุงูุชุญูู ูู ุงูุงุณู (Name Verification)
      - ูุนุฑุถ ุงูุงุณู ุงููุชุนุฑู ุนููู
      - ุงููุณุชุฎุฏู ูุคูุฏ
   
   c) ุงูุชุญูู ูู ุงูุฑูู (ID Verification)
      - ููุงุฑู ุงูุฑูู ุงููุฏุฎู ูุน ุงููุฎุฒู ูู Firebase
   โ
9. ุฅุฐุง ูุฌุญุช ุฌููุน ุงูุฎุทูุงุช:
   - ูุญูุธ ุณุฌู ุงูุญุถูุฑ ูู Firebase
   - collection: "attendance"
   - data: {
       userId: "user_0005_john",
       date: "2024-01-15",
       checkIn: "09:00:00",
       status: "Present"
     }
   โ
10. ูุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ููููุธู
    โ
11. ูุญูู ูููุญุฉ ุงูุชุญูู
```

### ุณููุงุฑูู 3: ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ (Admin)

```
1. Admin ูุฏุฎู ูููุญุฉ ุงูุชุญูู (/admin)
   โ
2. ูุถุบุท "Add Employee"
   โ
3. ูููุฃ ุงููููุฐุฌ:
   - Name: "Ahmed Ali"
   - Email: "ahmed@company.com"
   - Department: "IT"
   - Job Title: "Developer"
   - ูุฑูุน ุตูุฑุฉ ุงูููุธู
   โ
4. ูุถุบุท "Submit"
   โ
5. Frontend ูููู ุจู:
   a) ุชูููุฏ ุฑูู ูุธููู ุฌุฏูุฏ (numericId)
   b) ุชูููุฏ username ุชููุงุฆู
   c) ุชูููุฏ password ุนุดูุงุฆู
   d) ุญูุธ ุงูุจูุงูุงุช ูู Firebase
   โ
6. Frontend ูุฑุณู ููู Backend:
   POST http://localhost:5001/add-employee
   Body: {
     name: "Ahmed Ali",
     numericId: 15,
     image: "data:image/jpeg;base64,..."
   }
   โ
7. Backend ูููู ุจู:
   a) ุงุณุชูุจุงู ุงูุตูุฑุฉ
   b) ุชูููุฏ face encoding
   c) ุญูุธ ุงูู encoding ูู Firebase
   d) ุฅุถุงูุฉ ุงูููุธู ููููุฐุฌ ุงูุชุนุฑู
   โ
8. ูุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ูุน ุจูุงูุงุช ุงูุฏุฎูู
   โ
9. ูุฑุณู email ููููุธู ุจุจูุงูุงุช ุงูุฏุฎูู
```

---

## ๐พ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Firebase Structure)

### Collection: `users`
```javascript
{
  id: "user_0005_john",
  numericId: 5,
  name: "John Doe",
  username: "john.doe",
  email: "john@company.com",
  password: "hashed_password",
  image: "data:image/jpeg;base64,...",
  faceEncoding: [0.123, -0.456, 0.789, ...], // 128 numbers
  department: "IT",
  jobTitle: "Developer",
  accountType: "Employee",
  status: "Active",
  salary: 5000,
  phone: "+1234567890"
}
```

### Collection: `attendance`
```javascript
{
  id: "att_20240115_0005",
  userId: "user_0005_john",
  employeeName: "John Doe",
  date: "2024-01-15",
  checkIn: "09:00:00",
  checkOut: "17:30:00",
  status: "Present", // or "Late", "Absent"
  workedHours: 8.5,
  overtimeHours: 0.5,
  timestamp: Timestamp
}
```

### Collection: `leaveRequests`
```javascript
{
  id: "leave_001",
  userId: "user_0005_john",
  employeeName: "John Doe",
  startDate: "2024-01-20",
  endDate: "2024-01-22",
  reason: "Sick Leave",
  status: "Pending", // or "Approved", "Rejected"
  requestDate: "2024-01-15",
  approvedBy: null
}
```

### Collection: `departments`
```javascript
{
  id: "dept_001",
  name: "IT",
  head: "Jane Smith",
  employeeCount: 15,
  budget: 100000,
  location: "Building A"
}
```

---

## ๐จ ูุงุฌูุงุช ุงููุณุชุฎุฏู (User Interfaces)

### 1. Employee Dashboard (`/userData`)
**ุงูููููุงุช:**
- Profile Section: ุตูุฑุฉ ูุจูุงูุงุช ุงูููุธู
- Attendance Summary: ููุฎุต ุงูุญุถูุฑ ุงูุดูุฑู
- Quick Actions: ุฃุฒุฑุงุฑ ุณุฑูุนุฉ (Mark Attendance, Request Leave)
- Attendance Chart: ุฑุณู ุจูุงูู ููุญุถูุฑ
- Leave Requests: ุทูุจุงุช ุงูุฅุฌุงุฒุงุช

### 2. Supervisor Dashboard (`/supervisor`)
**ุงูููููุงุช:**
- Team Overview: ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุฑูู
- Today's Attendance: ุญุถูุฑ ุงูููู ูููุฑูู
- Leave Approvals: ุงูููุงููุฉ ุนูู ุทูุจุงุช ุงูุฅุฌุงุฒุงุช
- Team Performance: ุฃุฏุงุก ุงููุฑูู
- Employee Management: ุฅุฏุงุฑุฉ ุงูููุธููู

### 3. Admin Dashboard (`/admin`)
**ุงูููููุงุช:**
- System Overview: ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู
- Attendance Management: ุฅุฏุงุฑุฉ ุงูุญุถูุฑ
- Employee Management: ุฅุฏุงุฑุฉ ุงูููุธููู
- Department Management: ุฅุฏุงุฑุฉ ุงูุฃูุณุงู
- Reports: ุงูุชูุงุฑูุฑ
- Settings: ุงูุฅุนุฏุงุฏุงุช

---

## ๐ง ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Backend:
- **Flask**: ุฅุทุงุฑ ุนูู Python ููู web server
- **face_recognition**: ููุชุจุฉ ุงูุชุนุฑู ุนูู ุงููุฌู (ุชุณุชุฎุฏู dlib)
- **dlib**: ููุชุจุฉ machine learning ููุชุนุฑู ุนูู ุงููุฌู
- **OpenCV**: ูุนุงูุฌุฉ ุงูุตูุฑ
- **Pillow (PIL)**: ูุนุงูุฌุฉ ุงูุตูุฑ
- **Firebase Admin SDK**: ุงูุชูุงุตู ูุน Firebase
- **NumPy**: ุงูุนูููุงุช ุงูุฑูุงุถูุฉ ุนูู ุงููุตูููุงุช

### Frontend:
- **Next.js 15**: ุฅุทุงุฑ ุนูู React
- **React 19**: ููุชุจุฉ ุจูุงุก ูุงุฌูุงุช ุงููุณุชุฎุฏู
- **TypeScript**: ูุบุฉ ุจุฑูุฌุฉ ูุน type safety
- **Tailwind CSS**: ุฅุทุงุฑ ุนูู CSS
- **Firebase SDK**: ุงูุชูุงุตู ูุน Firebase
- **Lucide React**: ุฃููููุงุช
- **React Hot Toast**: ุฅุดุนุงุฑุงุช
- **Recharts**: ุฑุณูู ุจูุงููุฉ

### Database:
- **Firebase Firestore**: ูุงุนุฏุฉ ุจูุงูุงุช NoSQL ุณุญุงุจูุฉ

---

## ๐ ููููุฉ ุชุดุบูู ุงููุดุฑูุน

### 1. ุชุดุบูู Backend:
```bash
cd backend
pip install -r requirements/requirements.txt
python enhanced_face_api_server.py
```
ุงูุฎุงุฏู ุณูุนูู ุนูู: `http://localhost:5001`

### 2. ุชุดุบูู Frontend:
```bash
cd frontend
npm install
npm run dev
```
ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:3000`

### 3. ูุชุทูุจุงุช ุงูุชุดุบูู:
- Python 3.8+
- Node.js 18+
- ุญุณุงุจ Firebase ูุน Firestore
- ููู `user-login-data-7d185-firebase-adminsdk-fbsvc-3c8a31d30f.json`

---

## ๐ ุงูุฃูุงู (Security Features)

### 1. ุงููุตุงุฏูุฉ ุงูุซูุงุซูุฉ:
- ูููุน ุงูุชุญุงู ุงูุดุฎุตูุฉ
- ูุชุทูุจ 3 ุนูุงูู ููุชุญูู
- ุฏูุฉ ุนุงููุฉ ูู ุงูุชุนุฑู

### 2. ุชุดููุฑ ุงูุจูุงูุงุช:
- ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ
- Face encodings ูุญููุฉ
- ุงุชุตุงู ุขูู ูุน Firebase

### 3. ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:
- Employee: ุตูุงุญูุงุช ูุญุฏูุฏุฉ
- Supervisor: ุฅุฏุงุฑุฉ ุงููุฑูู
- Admin: ุตูุงุญูุงุช ูุงููุฉ

### 4. ููุน ุงูุงุญุชูุงู:
- ูุง ูููู ุชุณุฌูู ุงูุญุถูุฑ ูุฑุชูู
- ูุง ูููู ุงุณุชุฎุฏุงู ุตูุฑุฉ ูุฏููุฉ
- ุงูุชุญูู ูู ุงููุฌู ุงูุญู (liveness)

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### 1. ุชูุงุฑูุฑ ุงูุญุถูุฑ:
- ุญุถูุฑ ูููู
- ุญุถูุฑ ุดูุฑู
- ุญุถูุฑ ุณููู
- ุชูุงุฑูุฑ ุญุณุจ ุงููุณู

### 2. ุชูุงุฑูุฑ ุงูุฃุฏุงุก:
- ุณุงุนุงุช ุงูุนูู
- ุณุงุนุงุช ุงูุฅุถุงูู
- ุงูุชุฃุฎูุฑุงุช
- ุงูุบูุงุจุงุช

### 3. ุชูุงุฑูุฑ ุงูุฅุฌุงุฒุงุช:
- ุฅุฌุงุฒุงุช ูุนุชูุฏุฉ
- ุฅุฌุงุฒุงุช ูุนููุฉ
- ุฅุฌุงุฒุงุช ูุฑููุถุฉ
- ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช

---

ูุฐุง ุดุฑุญ ุดุงูู ูููุดุฑูุน. ูู ุชุฑูุฏ ุชูุงุตูู ุฃูุซุฑ ุนู ุฃู ุฌุฒุก ูุนููุ
